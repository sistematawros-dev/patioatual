<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Patio - Tawros</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@400;500;600;700&display=swap" rel="stylesheet">

  <script src="https://unpkg.com/lucide@latest"></script>

  <link rel="stylesheet" href="assets/css/dashboard/variables.css">
  <link rel="stylesheet" href="assets/css/dashboard/figma-tokens.css">
  <link rel="stylesheet" href="assets/css/dashboard/components.css">
  <link rel="stylesheet" href="assets/css/dashboard/main.css">
  <link rel="stylesheet" href="assets/css/styles.css">

  <style>
    .kamban-wrapper {
      padding: 24px;
    }

    .kamban-wrapper .wrap {
      max-width: 100%;
    }

    .kamban-wrapper dialog {
      max-width: 900px;
      width: 100%;
    }
  </style>
</head>

<body>
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <svg class="logo logo-full" xmlns="http://www.w3.org/2000/svg" width="120" height="15" viewBox="0 0 189 23"
        fill="none">
        <g clip-path="url(#clip0_40000329_57345)">
          <path
            d="M35.1538 5.02016H54.9317L56.0636 9.20912H42.8277L48.4121 10.8599V21.3832H42.8277V9.20912H36.2847L35.1538 5.02016Z"
            fill="url(#paint0_linear_40000329_57345)" />
          <path
            d="M87.4086 6.20828L90.5914 15.7763L93.7834 5.02016H99.5046L102.742 15.8199L105.948 6.20731C106.184 5.50026 106.87 5.02016 107.647 5.02016H111.975L106.025 21.3832H100.496C100.031 21.3832 99.6231 21.0903 99.4924 20.6635L96.5203 10.9326L93.5706 20.6626C93.4409 21.0903 93.0315 21.3842 92.5664 21.3842H87.1289L81.1787 5.02113H85.7113C86.4875 5.02113 87.1745 5.5022 87.4096 6.20925L87.4086 6.20828Z"
            fill="url(#paint1_linear_40000329_57345)" />
          <path
            d="M116.703 5.02792H131.89C135.605 5.02792 137.84 7.16653 137.84 10.374C137.84 13.3855 135.605 15.0207 132.255 15.2389L138.227 21.391H131.434L124.002 12.1411V21.391H118.417V7.64469L116.702 5.02889L116.703 5.02792ZM132.14 10.4176C132.14 9.13056 131.228 8.6718 129.267 8.6718H123.131L124.002 9.54955V12.1401H129.426C131.272 12.1401 132.139 11.66 132.139 10.4157L132.14 10.4176Z"
            fill="url(#paint2_linear_40000329_57345)" />
          <path
            d="M179.404 4.47411C182.094 4.47411 184.335 4.7515 186.206 5.10648C187.178 5.28979 187.892 6.08704 187.94 7.03365L188.065 9.47002C185.511 8.68441 182.777 8.22662 179.972 8.22662C177.168 8.22662 176.097 8.70672 176.097 9.535C176.097 12.2846 188.999 9.18584 188.999 16.364C188.999 19.9856 185.739 21.8837 179.95 21.8837C176.93 21.8837 174.215 21.3939 171.791 20.5908C170.962 20.3163 170.394 19.5831 170.35 18.7451L170.194 15.818C172.861 17.1263 175.915 17.8916 179.266 17.8916C181.956 17.8916 183.05 17.3465 183.05 16.4726C183.05 13.5707 170.194 16.6036 170.216 9.44674C170.238 6.06473 173.317 4.47217 179.402 4.47217L179.404 4.47411Z"
            fill="url(#paint3_linear_40000329_57345)" />
          <path
            d="M164.734 12.7492C164.731 12.6852 164.729 12.6212 164.725 12.5582C164.722 12.5038 164.717 12.4505 164.712 12.3972C164.708 12.3467 164.705 12.2953 164.699 12.2449C164.693 12.1857 164.686 12.1266 164.679 12.0674C164.674 12.0237 164.67 11.9801 164.664 11.9365C164.656 11.8734 164.646 11.8113 164.637 11.7483C164.631 11.7105 164.625 11.6726 164.619 11.6348C164.608 11.5689 164.596 11.5039 164.584 11.4389C164.578 11.405 164.572 11.372 164.565 11.338C164.552 11.2711 164.536 11.2042 164.521 11.1382C164.514 11.1082 164.508 11.0771 164.501 11.0471C164.485 10.9792 164.467 10.9132 164.45 10.8463C164.443 10.8182 164.436 10.7891 164.428 10.7609C164.41 10.6931 164.389 10.6271 164.369 10.5602C164.361 10.534 164.353 10.5068 164.345 10.4806C164.324 10.4137 164.301 10.3478 164.279 10.2828C164.27 10.2566 164.262 10.2314 164.253 10.2052C164.229 10.1402 164.205 10.0762 164.181 10.0122C164.171 9.986 164.16 9.95981 164.15 9.9346C164.125 9.87155 164.1 9.80948 164.072 9.74838C164.061 9.72122 164.049 9.69503 164.038 9.66788C164.011 9.60774 163.984 9.54955 163.956 9.49039C163.943 9.46226 163.928 9.43413 163.915 9.40601C163.888 9.34975 163.859 9.29447 163.83 9.23918C163.814 9.20912 163.798 9.17808 163.781 9.14801C163.753 9.09661 163.725 9.04521 163.696 8.99477C163.678 8.96374 163.66 8.93173 163.642 8.90069C162.208 9.86088 160.48 10.5621 158.561 10.9898C158.496 11.0073 158.431 11.0257 158.366 11.0422C158.381 11.0781 158.396 11.1159 158.41 11.1528C158.403 11.1547 158.396 11.1557 158.389 11.1576C158.639 11.7493 158.772 12.433 158.772 13.2012C158.772 16.0818 156.97 17.783 153.826 17.783C150.681 17.783 148.88 16.0818 148.88 13.2012C148.88 12.433 149.011 11.7493 149.263 11.1576C149.255 11.1557 149.248 11.1547 149.241 11.1528C149.254 11.1188 149.268 11.0839 149.282 11.0509C147.256 10.6475 145.441 9.96078 143.957 8.99186C143.957 8.99186 143.956 8.9938 143.955 8.99477C143.925 9.04521 143.897 9.09661 143.87 9.14801C143.853 9.17808 143.837 9.20912 143.821 9.23918C143.793 9.29447 143.764 9.34975 143.736 9.40601C143.722 9.43413 143.709 9.46226 143.695 9.49039C143.667 9.54955 143.64 9.60871 143.613 9.66788C143.601 9.69406 143.59 9.72122 143.579 9.74741C143.553 9.80948 143.526 9.87155 143.501 9.93363C143.491 9.95981 143.481 9.98503 143.47 10.0112C143.446 10.0752 143.422 10.1392 143.399 10.2042C143.389 10.2304 143.38 10.2556 143.372 10.2818C143.35 10.3478 143.328 10.4137 143.306 10.4797C143.298 10.5059 143.29 10.533 143.282 10.5592C143.262 10.6261 143.241 10.6931 143.223 10.76C143.215 10.7881 143.208 10.8162 143.201 10.8444C143.184 10.9113 143.165 10.9782 143.149 11.0461C143.142 11.0762 143.136 11.1072 143.129 11.1373C143.114 11.2032 143.1 11.2701 143.085 11.3371C143.078 11.37 143.073 11.404 143.066 11.4379C143.054 11.5029 143.042 11.5679 143.031 11.6338C143.025 11.6717 143.02 11.7095 143.013 11.7473C143.004 11.8094 142.994 11.8724 142.986 11.9355C142.98 11.9791 142.976 12.0228 142.971 12.0664C142.964 12.1256 142.957 12.1838 142.951 12.2439C142.946 12.2943 142.943 12.3448 142.938 12.3962C142.934 12.4495 142.929 12.5029 142.925 12.5572C142.921 12.6202 142.919 12.6852 142.916 12.7483C142.914 12.7909 142.911 12.8326 142.91 12.8753C142.907 12.983 142.905 13.0906 142.905 13.2002C142.905 18.5026 146.849 21.8837 153.824 21.8837C160.798 21.8837 164.742 18.5026 164.742 13.2002C164.742 13.0916 164.74 12.983 164.737 12.8753C164.736 12.8326 164.733 12.7909 164.731 12.7483L164.734 12.7492Z"
            fill="url(#paint4_linear_40000329_57345)" />
          <path
            d="M153.885 8.14902C156.798 8.14902 159.517 7.66602 161.821 6.83191C159.966 5.36447 157.265 4.53909 153.825 4.53909C150.385 4.53909 147.721 5.35283 145.866 6.80088C148.188 7.65341 150.937 8.14805 153.885 8.14805V8.14902Z"
            fill="url(#paint5_linear_40000329_57345)" />
          <path
            d="M75.3654 12.0994L73.5587 8.64173L71.6547 4.99785H62.2035L63.687 7.25964L56.3586 21.3599L63.919 18.1787L63.9423 18.169L65.1938 15.4601L64.9414 17.9585C66.4705 17.9585 67.9936 18.0574 69.5024 18.2514C71.53 18.5123 73.5303 18.9468 75.4779 19.5501C76.6149 19.9022 77.7336 20.3124 78.83 20.779L80.202 21.3628L75.3634 12.1013L75.3654 12.0994ZM65.4765 14.8578L66.123 13.4689L68.1212 9.16451L69.5044 12.1683L70.7427 14.8578H65.4765Z"
            fill="url(#paint6_linear_40000329_57345)" />
          <path
            d="M16.4713 17.8062L14.2076 17.8043L9.48047 19.713V20.0486C9.48047 20.8536 10.8566 22.999 15.3385 22.999C19.8204 22.999 21.1964 20.8527 21.1964 20.0486V19.7101L16.4713 17.8062Z"
            fill="#0B3C49" />
          <path
            d="M21.1196 18.4997L17.4088 17.0206L16.6489 15.3961L16.3297 14.7142L15.4217 12.7773L15.3386 12.5989L14.3486 14.7123L14.0284 15.3941L13.2694 17.0196L9.55664 18.5016L13.7244 10.5544H16.9528L21.1196 18.4997Z"
            fill="#0B3C49" />
          <path
            d="M30.4279 0.213958C30.5201 0.102421 30.7045 0.188741 30.6721 0.327436C29.3031 6.1914 22.9871 9.4095 15.4024 9.4095C7.81773 9.4095 1.03053 6.30973 0.00200883 0.155765C-0.0212975 0.0190102 0.16414 -0.0566413 0.250272 0.0539263C2.87679 3.39714 8.67398 5.72003 15.4024 5.72003C22.1308 5.72003 27.7426 3.47085 30.4269 0.213958H30.4279Z"
            fill="#0B3C49" />
          <path
            d="M4.57309 8.00548C4.55586 7.99579 4.53965 7.98609 4.52344 7.97639L5.2054 10.6077C5.38273 11.2915 5.69585 11.9355 6.12853 12.5058L9.2303 16.59L12.5124 10.3313C9.46944 10.0287 6.76287 9.24016 4.57309 8.00548Z"
            fill="#0B3C49" />
          <path
            d="M25.9367 7.98027C23.7459 9.22852 21.0961 10.0258 18.1646 10.3313L21.4467 16.59L24.5474 12.5067C24.9801 11.9365 25.2932 11.2924 25.4706 10.6087L26.191 7.83284C26.1069 7.88231 26.0228 7.93274 25.9377 7.98124L25.9367 7.98027Z"
            fill="#0B3C49" />
        </g>
        <defs>
          <linearGradient id="paint0_linear_40000329_57345" x1="45.6082" y1="21.3832" x2="45.6082" y2="5.02016"
            gradientUnits="userSpaceOnUse">
            <stop stop-color="#0B3C49" />
            <stop offset="0.31" stop-color="#0B3240" />
            <stop offset="0.83" stop-color="#0E1928" />
            <stop offset="0.99" stop-color="#0F1020" />
          </linearGradient>
          <linearGradient id="paint1_linear_40000329_57345" x1="96.5761" y1="21.3832" x2="96.5761" y2="2.70937e-06"
            gradientUnits="userSpaceOnUse">
            <stop stop-color="#0B3C49" />
            <stop offset="0.31" stop-color="#0B3240" />
            <stop offset="0.83" stop-color="#0E1928" />
            <stop offset="0.99" stop-color="#0F1020" />
          </linearGradient>
          <linearGradient id="paint2_linear_40000329_57345" x1="127.464" y1="21.391" x2="127.464" y2="5.02792"
            gradientUnits="userSpaceOnUse">
            <stop stop-color="#0B3C49" />
            <stop offset="0.31" stop-color="#0B3240" />
            <stop offset="0.83" stop-color="#0E1928" />
            <stop offset="0.99" stop-color="#0F1020" />
          </linearGradient>
          <linearGradient id="paint3_linear_40000329_57345" x1="179.597" y1="21.8846" x2="179.597" y2="4.47314"
            gradientUnits="userSpaceOnUse">
            <stop stop-color="#0B3C49" />
            <stop offset="0.31" stop-color="#0B3240" />
            <stop offset="0.83" stop-color="#0E1928" />
            <stop offset="0.99" stop-color="#0F1020" />
          </linearGradient>
          <linearGradient id="paint4_linear_40000329_57345" x1="153.826" y1="21.8846" x2="153.826" y2="8.90166"
            gradientUnits="userSpaceOnUse">
            <stop stop-color="#0B3C49" />
            <stop offset="0.31" stop-color="#0B3240" />
            <stop offset="0.83" stop-color="#0E1928" />
            <stop offset="0.99" stop-color="#0F1020" />
          </linearGradient>
          <linearGradient id="paint5_linear_40000329_57345" x1="153.843" y1="8.14902" x2="153.843" y2="4.54006"
            gradientUnits="userSpaceOnUse">
            <stop stop-color="#0B3C49" />
            <stop offset="0.31" stop-color="#0B3240" />
            <stop offset="0.83" stop-color="#0E1928" />
            <stop offset="0.99" stop-color="#0F1020" />
          </linearGradient>
          <linearGradient id="paint6_linear_40000329_57345" x1="68.2813" y1="21.3609" x2="68.2813" y2="4.99688"
            gradientUnits="userSpaceOnUse">
            <stop stop-color="#0B3C49" />
            <stop offset="0.31" stop-color="#0B3240" />
            <stop offset="0.83" stop-color="#0E1928" />
            <stop offset="0.99" stop-color="#0F1020" />
          </linearGradient>
          <clipPath id="clip0_40000329_57345">
            <rect width="189" height="23" fill="white" />
          </clipPath>
        </defs>
      </svg>

    </div>

    <nav class="sidebar-nav">
      <a href="menu.html" class="nav-item">
        <i data-lucide="house" class="nav-icon"></i>
        <span class="nav-text">Painel</span>
      </a>

      <div class="nav-group">
        <button class="nav-item nav-dropdown">
          <div class="nav-item-content">
            <i data-lucide="list" class="nav-icon"></i>
            <span class="nav-text">Cadastros</span>
          </div>
          <i data-lucide="chevron-down" class="dropdown-arrow"></i>
        </button>
        <div class="nav-submenu">
          <a href="./pessoas-empresas.html" class="nav-subitem">Pessoas e Empresas</a>
          <a href="./produtos-servicos.html" class="nav-subitem">Produtos e Servicos</a>
        </div>
      </div>

      <div class="nav-group">
        <button class="nav-item nav-dropdown">
          <div class="nav-item-content">
            <i data-lucide="truck" class="nav-icon"></i>
            <span class="nav-text">Patio</span>
          </div>
          <i data-lucide="chevron-down" class="dropdown-arrow"></i>
        </button>
        <div class="nav-submenu">
          <a href="./patio.html?tab=agendamento" class="nav-subitem" data-tab-link="agendamento">Agendamento</a>
          <a href="./patio.html?tab=agenda" class="nav-subitem" data-tab-link="agenda">Agenda</a>
          <a href="./patio.html?tab=patio" class="nav-subitem" data-tab-link="patio">Controle de Patio</a>
          <a href="./patio.html?tab=instrucoes" class="nav-subitem" data-tab-link="instrucoes">Instrucoes</a>
          <a href="./patio.html?tab=cpfcnpj" class="nav-subitem" data-tab-link="cpfcnpj">CPF/CNPJ</a>
          <a href="./patio.html?tab=veiculos" class="nav-subitem" data-tab-link="veiculos">Veiculos</a>
          <a href="./patio.html?tab=usuarios" class="nav-subitem" data-tab-link="usuarios">Usuarios</a>
        </div>
      </div>

      <a href="#" class="nav-item">
        <i data-lucide="chart-no-axes-combined" class="nav-icon"></i>
        <span class="nav-text">BI e Relatorios</span>
      </a>
    </nav>

    
          <div class="user-info">
            <div class="user-name">Irmaos Ferreira</div>
            <div class="user-email">Estufa.I.F@gmail.com</div>
          </div>
          <i data-lucide="chevron-down" class="dropdown-arrow"></i>
        </button>

        <div class="user-dropdown" id="userDropdown">
          <a href="#" class="user-dropdown-item">
            <i data-lucide="user" class="dropdown-item-icon"></i>
            <span>Conta</span>
          </a>
          <a href="#" class="user-dropdown-item">
            <i data-lucide="settings" class="dropdown-item-icon"></i>
            <span>Configuracoes</span>
          </a>
          <div class="user-dropdown-divider"></div>
          <a href="#" class="user-dropdown-item logout">
            <i data-lucide="log-out" class="dropdown-item-icon"></i>
            <span>Sair</span>
          </a>
        </div>
      </div>
    </div>
  </aside>

  <main class="main-content">
    <header class="page-header">
      <div class="header-left">
        <button class="menu-toggle">
          <i data-lucide="panel-left"></i>
        </button>
        <nav class="breadcrumb">
          <a href="menu.html" class="breadcrumb-item">
            <i data-lucide="home"></i>
            <span>Painel</span>
          </a>
          <i data-lucide="chevron-right" class="breadcrumb-separator"></i>
          <a href="./patio.html" class="breadcrumb-item">Patio</a>
          <i data-lucide="chevron-right" class="breadcrumb-separator"></i>
          <span class="breadcrumb-item active" id="breadcrumbCurrent">Agendamento</span>
        </nav>
      </div>
      <div class="header-right">
        <div id="authBox" class="chip"></div>
        <a href="mensagens.html" class="chip">Mensagens (WhatsApp)</a>
        <button id="btnLogout" class="btn ghost">Sair</button>
      </div>
    </header>

    <section class="page-content">
      <h1 class="page-title" id="pageTitle">Agendamento</h1>
      <div class="kamban-wrapper">
        <div class="wrap">
          <section id="tab-agendamento">
            <h1>AGENDAMENTO</h1>
            <div class="panel">
              <div class="panel-header">
                <h3>FormulÃ¡rio de Agendamento</h3>
                <div class="chip">Ordem gerada: <span id="ocLabel">â€”</span></div>
              </div>
              <div class="panel-body">
                <form id="formAgendamento">
                  <div class="field sm"><label>Data</label><input type="date" id="data" required /></div>
                  <div class="field sm"><label>Hora (slot)</label><select id="hora" required>
                      <option value="">Selecioneâ€¦</option>
                      <option>Hora 1</option>
                      <option>Hora 2</option>
                      <option>Hora 3</option>
                      <option>Hora 4</option>
                      <option>Hora 5</option>
                    </select></div>
                  <div class="field sm"><label>InstruÃ§Ã£o</label><select id="instrucao"></select></div>
                  <div class="field sm"><label>Vendedor/Produtor</label><input id="vendedor" list="dl-produtores" />
                  </div>
                  <div class="field sm"><label>Contrato</label><input id="contrato" /></div>
                  <div class="field sm"><label>Blocos</label><input id="blocos" /></div>
                  <div class="field sm"><label>Quantidade (t)</label><input id="quantidade" type="number" step="0.01" />
                  </div>
                  <div class="field sm"><label>CaroÃ§o/Pluma</label><select id="tipoAlgodao" required>
                      <option value="">Selecioneâ€¦</option>
                      <option value="CaroÃ§o">CaroÃ§o</option>
                      <option value="Pluma">Pluma</option>
                    </select></div>
                  <div class="field sm"><label>Transportadora</label><input id="transportadora"
                      list="dl-transportadoras" />
                  </div>
                  <div class="separator" style="grid-column:1/-1"></div>
                  <div class="field sm"><label>Placa</label><input id="placa" required /></div>
                  <div class="field sm"><label>Capacidade (t)</label><input id="capacidade" type="number" step="0.01" />
                  </div>
                  <div class="field sm"><label>Eixos</label><input id="eixos" type="number" /></div>
                  <div class="field sm"><label>Margem Excesso (%)</label><input id="margem" type="number" step="0.1" />
                  </div>
                  <div class="field sm"><label>Motorista</label><input id="motorista" list="dl-motoristas" /></div>
                  <div class="field sm"><label>Telefone</label><input id="telefone" /></div>
                  <div class="form-actions"><button class="btn ghost" type="reset">Limpar</button><button
                      class="btn primary" type="submit">Gerar Ordem e Agendar</button></div>
                </form>
                <p id="ruleMsg" class="chip" style="display:none">âš ï¸ CaroÃ§o deve possuir agenda diferente de Pluma no
                  mesmo
                  horÃ¡rio.</p>
              </div>
            </div>
            <div class="panel">
              <div class="panel-header">
                <h3>PrÃ©via</h3><button class="btn" id="btnNewCard">Criar card vazio</button>
              </div>
              <div class="panel-body">
                <div class="dropzone" id="draftZone"></div>
              </div>
            </div>
            <datalist id="dl-produtores"></datalist>
            <datalist id="dl-transportadoras"></datalist>
            <datalist id="dl-motoristas"></datalist>
          </section>

          <section id="tab-agenda" hidden>
            <h1>AGENDA</h1>
            <div class="agenda" id="agendaGrid"></div>
          </section>
          <section id="tab-patio" hidden>
            <h1>CONTROLE DE PÃTIO</h1>
            <div class="board" id="patioBoard"></div>
          </section>
          <section id="tab-cadastros" hidden>
            <h1>CADASTROS</h1>
            <p class="chip">Para simplificar, os cadastros podem ser gerenciados via API diretamente.</p>
          </section>

          <section id="tab-usuarios" hidden>
            <div class="card">
              <h2>Cadastro de UsuÃ¡rios</h2>
              <form id="form-usuario" autocomplete="off">
                <div class="field sm" style="position:relative">
                  <label for="usr-nome">Nome</label>
                  <input type="text" id="usr-nome" placeholder="Nome completo" required autocomplete="off" />
                  <!-- dropdown de sugestÃµes -->
                  <div id="usr-dd" class="usr-dropdown" style="display:none;"></div>
                </div>
                <div class="field sm">
                  <label for="usr-email">Email</label>
                  <input type="email" id="usr-email" placeholder="usuario@dominio.com" required />
                </div>
                <div class="field sm">
                  <label for="usr-senha">Senha</label>
                  <input type="password" id="usr-senha" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" minlength="6" />
                </div>
                <div class="field sm">
                  <label for="usr-tipo">Tipo de UsuÃ¡rio</label>
                  <select id="usr-tipo" required>
                    <option value="">Selecioneâ€¦</option>
                    <option value="Comprador">Comprador</option>
                    <option value="Transportadora">Transportadora</option>
                    <option value="Produtor">Produtor</option>
                    <option value="Operador da Fila">Operador da Fila</option>
                    <option value="Administrador">Administrador</option>
                  </select>
                </div>
                <hr />
                <div class="form-actions">
                  <button type="submit" class="btn primary">Salvar</button>
                  <button type="button" id="usr-excluir" class="btn danger" style="display:none">Excluir</button>
                  <button type="button" id="usr-limpar" class="btn">Limpar</button>
                </div>
              </form>
            </div>

            <div class="card filial">
              <h2>Cadastro de Filial</h2>
              <form id="form-filial" autocomplete="off">
                <div class="field sm">
                  <label for="usr-filial">Filial</label>
                  <input type="text" id="usr-filial" required />
                </div>
                <div class="field sm">
                  <label for="usr-cidade">Cidade</label>
                  <input type="text" id="usr-cidade" required />
                </div>

                <div class="field sm">
                  <label for="usr-uf">UF</label>
                  <input type="text" id="usr-uf" required />
                </div>

                <hr />
                <div class="form-actions">
                  <button type="submit" class="btn primary">Salvar</button>
                  <button type="button" id="usr-limpar" class="btn">Limpar</button>
                </div>
              </form>
            </div>
          </section>


          <section id="tab-instrucoes" hidden>
            <h1>INSTRUÃ‡Ã•ES</h1>
            <div class="card">
              <h2>Cadastro de InstruÃ§Ãµes</h2>
              <form id="form-instrucoes" autocomplete="off">
                <div class="field sm">
                  <label for="veh-unidade">Unidade</label>
                  <select id="veh-unidade" required>
                    <option value="">Selecioneâ€¦</option>
                  </select>
                </div>
                <div class="field sm">
                  <label for="veh-vendprod">Vendedor / Produtor</label>
                  <select id="veh-vendprod" required>
                    <option value="">Selecioneâ€¦</option>
                  </select>
                </div>
                <div class="field sm">
                  <label for="veh-contrato">Contrato</label>
                  <input type="text" id="veh-contrato" required />
                </div>
                <div class="field sm">
                  <label for="veh-bloco">Bloco</label>
                  <input type="text" id="veh-bloco" required />
                </div>
                <div class="field sm">
                  <label for="veh-quantidade">Quantidade</label>
                  <input type="number" step="0.01" id="veh-quantidade" required />
                </div>
                <div class="field sm">
                  <label for="instr-tipo">Tipo</label>
                  <select id="instr-tipo" required>
                    <option value="">Selecioneâ€¦</option>
                    <option value="">CaroÃ§o</option>
                    <option value="">Pluma</option>
                  </select>
                </div>
                <div class="field sm">
                  <label for="veh-transportadora">Transportadora</label>
                  <select id="veh-transportadora" required>
                    <option value="">Selecioneâ€¦</option>
                    <option value="">CaroÃ§o</option>
                    <option value="">Pluma</option>
                  </select>
                </div>
                <hr />
                <div class="form-actions">
                  <button type="submit" class="btn primary">Salvar</button>
                  <button type="button" id="veh-limpar" class="btn">Limpar</button>
                </div>
              </form>
            </div>
          </section>

          <section id="tab-veiculos" hidden>
            <div class="card">
              <!--<h2>Cadastro de VeÃ­culo</h2> -->
              <form id="form-veiculo" autocomplete="off">
                <div class="field sm">
                  <label for="veh-marca">Marca</label>
                  <input type="text" id="veh-marca" required />
                </div>
                <div class="field sm" style="position:relative">
                  <label for="veh-modelo">Modelo</label>
                  <input type="text" id="veh-modelo" required autocomplete="off" />
                  <!-- dropdown de sugestÃµes -->
                  <div id="vl-dd" class="vl-dropdown" style="display:none;"></div>
                </div>
                <div class="field sm" style="position:relative">
                  <label for="veh-placa">Placa</label>
                  <input type="text" id="veh-placa" placeholder="AAA0A00" maxlength="8" requiredautocomplete="off" />
                  <!-- dropdown de sugestÃµes -->
                  <div id="pl-dd" class="vl-dropdown" style="display:none;"></div>
                </div>
                <div class="field sm">
                  <label for="vi-tipo">Tipo do VeÃ­culo</label>
                  <select id="vi-tipo" required>
                    <option value="">Selecioneâ€¦</option>
                    <option>CaminhÃ£o Toco</option>
                    <option>Truck</option>
                    <option>Carreta</option>
                    <option>Bitrem</option>
                    <option>Rodotrem</option>
                    <option>VUC</option>
                    <option>Outro</option>
                  </select>
                </div>
                <div class="field sm">
                  <label for="veh-capacidade">Capacidade de Carga (t)</label>
                  <input type="number" step="0.01" id="veh-capacidade" required />
                </div>
                <div class="field sm">
                  <label for="veh-eixos">Quantidade de Eixos</label>
                  <input type="number" id="veh-eixos" min="1" required />
                </div>
                <div class="field sm">
                  <label for="veh-validade">Validade do Documento</label>
                  <input type="date" id="veh-validade" required />
                </div>
                <div class="field sm transportadora" style="position: relative">
                  <label for="vl1-transportadora">Transportadora</label>
                  <input type="text" id="vl-transportadora" placeholder="Digite para buscarâ€¦" autocomplete="off" />
                  <!-- id oculto da transportadora selecionada -->
                  <input type="hidden" id="vl-transportadora-id" />
                  <!-- dropdown de sugestÃµes -->
                  <div id="trp-dd" class="vl-dropdown" style="display:none;"></div>
                </div>
                <div class="field sm">
                  <label for="veh-doc">Imagem do Documento (PDF/JPG/PNG)</label>
                  <input type="file" id="veh-doc" accept=".pdf,image/*" />
                  <a id="veh-doc-link" class="btn sm" style="display:none">Baixar documento</a>
                </div>
                <hr />
                <div class="form-actions">
                  <button type="submit" class="btn primary">Salvar</button>
                  <button type="button" id="vei-excluir" class="btn danger" style="display:none">Excluir</button>
                  <button type="button" id="vei-limpar" class="btn">Limpar</button>
                </div>
              </form>
              <!-- <div id="veiculos-tabela" class="table"></div> -->
            </div>
          </section>


          <section id="tab-cpfcnpj" hidden>
            <h1>CPF/CNPJ</h1>
            <div class="card">
              <h2>Cadastro de Pessoa</h2>
              <div class="field sm tipo-pessoa">
                <label for="veh-tipoPessoa">Tipo de Pessoa</label>
                <select id="veh-tipoPessoa" required>
                  <option value="">Selecioneâ€¦</option>
                  <option>Motorista</option>
                  <option>Produtor</option>
                  <option>Vendedor</option>
                  <option>Transportadora</option>
                </select>
              </div>
              <form id="form-pessoa" autocomplete="off">
                <div class="field sm">
                  <label for="veh-nome">Nome</label>
                  <input type="text" id="veh-nome" required />
                </div>
                <div class="field sm">
                  <label for="veh-cpf">CPF/CNPJ</label>
                  <input type="text" id="veh-cpf" required />
                </div>
                <div class="field sm">
                  <label for="veh-telefone">Telefone</label>
                  <input type="tel" id="veh-telefone" placeholder="(00) 00000-0000" maxlength="11" required />
                </div>
                <div class="field sm">
                  <label for="veh-email">Email</label>
                  <input type="email" id="veh-email" required />
                </div>
                <div class="field sm">
                  <label for="veh-validade">Validade do Documento</label>
                  <input type="date" id="veh-validade" required />
                </div>
                <div class="field sm">
                  <label for="veh-doc">Imagem do Documento (PDF/JPG/PNG)</label>
                  <input type="file" id="veh-doc" accept=".pdf,image/*" />
                  <a id="veh-doc-link" class="btn" style="display:none;margin-top:8px" target="_blank">Baixar documento</a>
                </div>
                <hr />
                <div class="form-actions">
                  <button type="submit" class="btn primary">Salvar</button>
                  <button type="button" id="veh-limpar" class="btn">Limpar</button>
                </div>
              </form>
            </div>
          </section>
        </div>

        <dialog id="dlg">
          <div class="modal-head"><strong>Detalhes do Agendamento</strong>
            <div style="display:flex; gap:8px;">
              <button class="btn" id="btnPDF">Baixar PDF</button>
              <button class="btn" id="btnImprimir">Imprimir (HTML)</button>
              <button class="btn" formmethod="dialog">Fechar</button>
            </div>
          </div>
          <div class="modal-body">
            <div id="dlgContent"></div>
            <div class="form-actions"><button class="btn" id="btnMoverProximo">Mover para prÃ³ximo
                estÃ¡gio</button><button class="btn" id="btnDeletar">Excluir</button></div>
          </div>
        </dialog>
      </div>
    </section>
  </main>

  <script>
    (function () {
      const sections = ['agendamento', 'agenda', 'patio', 'instrucoes', 'cpfcnpj', 'veiculos', 'usuarios', 'cadastros'];
      const params = new URLSearchParams(window.location.search);
      const desired = params.get('tab') || 'agendamento';

      document.addEventListener('DOMContentLoaded', () => {
        sections.forEach(id => {
          const el = document.getElementById(`tab-${id}`);
          if (!el) return;
          const show = id === desired;
          if (show) {
            el.hidden = false;
            el.removeAttribute('hidden');
            el.style.display = '';
          } else {
            el.hidden = true;
            el.style.display = 'none';
          }
        });
      });

      window.DEFAULT_TAB = desired;
    })();
  </script>
  <script src="assets/js/config.js"></script>
  <script src="assets/js/api.js"></script>
  <script src="assets/js/app.js"></script>
  <script src="assets/js/agenda.js"></script>
  <script src="assets/js/agendamentos.js"></script>
  <script src="assets/js/instrucoes.js"></script>
  <script src="assets/js/patio.js"></script>
  <script src="assets/js/usuarios.js"></script>
  <script src="assets/js/veiculos.js"></script>
  <script src="assets/js/pessoas.js"></script>
  <script src="assets/js/dashboard/main.js"></script>
  <script src="assets/js/dashboard/sidebar-search.js"></script>
  <script src="assets/js/dashboard/sidebar-footer.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      if (typeof window.mountPessoas === 'function') window.mountPessoas();
    });
  </script>
  <script>
    (function () {
      const params = new URLSearchParams(window.location.search);
      const tab = params.get('tab') || 'agendamento';
      const labels = {
        agendamento: 'Agendamento',
        agenda: 'Agenda',
        patio: 'Controle de Patio',
        instrucoes: 'Instrucoes',
        cpfcnpj: 'CPF/CNPJ',
        veiculos: 'Veiculos',
        usuarios: 'Usuarios'
      };
      const current = labels[tab] || labels.agendamento;
      const breadcrumb = document.getElementById('breadcrumbCurrent');
      if (breadcrumb) breadcrumb.textContent = current;
      const title = document.getElementById('pageTitle');
      if (title) title.textContent = current;

      document.querySelectorAll('[data-tab-link]').forEach(link => {
        if (link.dataset.tabLink === tab) {
          link.classList.add('active');
          const dropdown = link.closest('.nav-group')?.querySelector('.nav-item.nav-dropdown');
          if (dropdown && !dropdown.classList.contains('open')) {
            dropdown.classList.add('open');
            const submenu = dropdown.nextElementSibling;
            if (submenu && submenu.classList.contains('nav-submenu')) {
              submenu.style.maxHeight = submenu.scrollHeight + 'px';
              submenu.style.opacity = '1';
            }
          }
        }
      });

      if (typeof lucide !== 'undefined') {
        lucide.createIcons({ attrs: { width: '18', height: '18' } });
      }
    })();
  </script>
</body>

</html>


